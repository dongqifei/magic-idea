{"version":3,"file":"index.js","sources":["../../../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js","../../../plugins/cn.magic-idea.helloworld/src/index.ts"],"sourcesContent":["var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export default n;\n","import { inject, injectable, ContainerModule, postConstruct } from \"@capital/shared/inversify\";\r\nimport { regContainerModule } from '@capital/core/plugin';\r\nimport { ApplicationShellLayout } from '@capital/core/shell';\r\nimport { CommandContribution, CommandRegistry } from '@capital/core/commands';\r\nimport { getLogger } from '@capital/core/logger';\r\nimport { Widget, } from \"@capital/core/widgets\";\r\n\r\nimport \"./index.css\";\r\n\r\n@injectable()\r\nclass MagicHelloWorldWidget extends Widget implements CommandContribution {\r\n\r\n  private logger = getLogger('MagicHelloWorldWidget');\r\n\r\n  constructor(\r\n    @inject(ApplicationShellLayout) private shellLayout: ApplicationShellLayout,\r\n  ) {\r\n    super();\r\n    this.title.label = 'HelloWorld';\r\n    this.node.className = 'magic-helloworld-widget';\r\n    this.node.tabIndex = -1;\r\n    this.node.innerHTML = \"此插件展示了如何注册菜单、工具栏、命令以及自定义视图等核心插件能力。\";\r\n\r\n    this.logger.info(\"一个简单的 Hello World 插件，用于演示 MagicIDEA 插件系统的基本功能。\");\r\n    // 注册活动面板\r\n    this.registerPanel();\r\n  }\r\n\r\n  @postConstruct()\r\n  init(): void {\r\n    // 初始化逻辑\r\n  }\r\n\r\n  registerPanel() {\r\n    const activityManager = this.shellLayout.activityManager;\r\n    activityManager.registerActivity({\r\n      id: 'magic-helloworld-plugin',\r\n      title: 'HelloWorld',\r\n      iconClass: 'icon icon-helloworld-plugin',\r\n      priority: 100,\r\n      location: 'right-top',\r\n      factory: () => {\r\n        return this;\r\n      }\r\n    });\r\n  }\r\n\r\n  registerCommands(registry: CommandRegistry): void {\r\n  }\r\n}\r\n\r\nconst MagicHelloWorldModule = new ContainerModule(\r\n  (bind: any) => {\r\n  bind(MagicHelloWorldWidget).toSelf().inSingletonScope();\r\n\r\n  bind(CommandContribution).toService(MagicHelloWorldWidget);\r\n})\r\n// 注册容器模块到插件中心\r\nregContainerModule(MagicHelloWorldModule);"],"names":["Widget","getLogger","postConstruct","injectable","inject","ApplicationShellLayout","ContainerModule","CommandContribution","regContainerModule"],"mappings":"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"}